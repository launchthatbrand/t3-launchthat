# Task ID: 16
# Title: Fix NextJS Dynamic Import Errors in Dashboard Components
# Status: pending
# Dependencies: 10
# Priority: medium
# Description: Resolve NextJS dynamic import errors in group dashboard pages by moving dynamic imports with `ssr: false` from server components to client components, ensuring proper rendering and compliance with React component architecture.
# Details:
This task involves refactoring the dashboard components to properly handle dynamic imports in a NextJS environment:

1. Identify all server components that are currently using dynamic imports with `ssr: false`
2. Create or modify client components to handle these dynamic imports instead:
   - Create a new CustomDashboard.tsx client component for the admin dashboard page
   - Ensure this component properly handles the PuckRenderer dynamic import
   - Verify that other group dashboard pages are already using client components correctly
3. Fix linter errors in the DashboardContent component:
   - Improve optional chaining implementation
   - Optimize logical operators for better code quality and performance
   - Ensure proper type checking is in place

Example implementation for the CustomDashboard client component:

```tsx
'use client';

import dynamic from 'next/dynamic';
import { Suspense } from 'react';

// Dynamic import with ssr: false moved to client component
const PuckRenderer = dynamic(() => import('@/components/PuckRenderer'), {
  ssr: false,
  loading: () => <div>Loading editor...</div>
});

export default function CustomDashboard({ data }) {
  return (
    <Suspense fallback={<div>Loading dashboard...</div>}>
      <div className="dashboard-container">
        {data?.content && <PuckRenderer data={data.content} />}
      </div>
    </Suspense>
  );
}
```

For the DashboardContent component, fix linter errors with improved optional chaining:

```tsx
// Before
const hasPermission = user && user.permissions && user.permissions.includes('admin');

// After
const hasPermission = user?.permissions?.includes('admin') ?? false;
```

Ensure all components follow the NextJS best practices for client/server component architecture.

# Test Strategy:
1. Verify that all dashboard pages load correctly without console errors related to dynamic imports:
   - Test the admin dashboard page with the new CustomDashboard component
   - Test all group dashboard pages to ensure they render properly
   - Check browser console for any remaining dynamic import errors

2. Run linting checks to confirm all linter errors are resolved:
   ```
   npm run lint
   ```

3. Test server-side rendering functionality:
   - Verify that the initial HTML contains the proper loading states
   - Confirm that client hydration works correctly without hydration errors

4. Test with different user permissions to ensure conditional rendering works properly:
   - Test with admin users
   - Test with regular users
   - Test with users having no dashboard access

5. Perform cross-browser testing (Chrome, Firefox, Safari) to ensure consistent behavior

6. Verify performance metrics to ensure the changes don't negatively impact load times:
   - Use Lighthouse or similar tools to measure performance
   - Compare before/after metrics for Time to Interactive and First Contentful Paint
