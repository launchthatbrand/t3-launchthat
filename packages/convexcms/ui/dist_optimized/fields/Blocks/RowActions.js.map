{"version":3,"file":"RowActions.js","names":["React","useModal","ArrayAction","useDrawerSlug","BlocksDrawer","RowActions","props","addRow","blocks","blockType","duplicateRow","hasMaxRows","isSortable","labels","moveRow","removeRow","rowCount","rowIndex","closeModal","openModal","drawerSlug","indexToAdd","setIndexToAdd","useState","_jsxs","Fragment","_jsx","_","rowBlockType","addRowIndex","index"],"sources":["../../../src/fields/Blocks/RowActions.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ClientBlock, ClientField, Labels } from \"@convexcms/core\";\nimport React from \"react\";\nimport { useModal } from \"@faceless-ui/modal\";\n\nimport { ArrayAction } from \"../../elements/ArrayAction/index.js\";\nimport { useDrawerSlug } from \"../../elements/Drawer/useDrawerSlug.js\";\nimport { BlocksDrawer } from \"./BlocksDrawer/index.js\";\n\nexport const RowActions: React.FC<{\n  readonly addRow: (\n    rowIndex: number,\n    blockType: string,\n  ) => Promise<void> | void;\n  readonly blocks: (ClientBlock | string)[];\n  readonly blockType: string;\n  readonly duplicateRow: (rowIndex: number, blockType: string) => void;\n  readonly fields: ClientField[];\n  readonly hasMaxRows?: boolean;\n  readonly isSortable?: boolean;\n  readonly labels: Labels;\n  readonly moveRow: (fromIndex: number, toIndex: number) => void;\n  readonly removeRow: (rowIndex: number) => void;\n  readonly rowCount: number;\n  readonly rowIndex: number;\n}> = (props) => {\n  const {\n    addRow,\n    blocks,\n    blockType,\n    duplicateRow,\n    hasMaxRows,\n    isSortable,\n    labels,\n    moveRow,\n    removeRow,\n    rowCount,\n    rowIndex,\n  } = props;\n\n  const { closeModal, openModal } = useModal();\n  const drawerSlug = useDrawerSlug(\"blocks-drawer\");\n\n  const [indexToAdd, setIndexToAdd] = React.useState<null | number>(null);\n\n  return (\n    <React.Fragment>\n      <BlocksDrawer\n        addRow={(_, rowBlockType) => {\n          if (typeof addRow === \"function\") {\n            void addRow(indexToAdd, rowBlockType);\n          }\n          closeModal(drawerSlug);\n        }}\n        addRowIndex={rowIndex}\n        blocks={blocks}\n        drawerSlug={drawerSlug}\n        labels={labels}\n      />\n      <ArrayAction\n        addRow={(index) => {\n          setIndexToAdd(index);\n          openModal(drawerSlug);\n        }}\n        duplicateRow={() => duplicateRow(rowIndex, blockType)}\n        hasMaxRows={hasMaxRows}\n        index={rowIndex}\n        isSortable={isSortable}\n        moveRow={moveRow}\n        removeRow={removeRow}\n        rowCount={rowCount}\n      />\n    </React.Fragment>\n  );\n};\n"],"mappings":"AAAA;;;AAGA,OAAOA,KAAA,MAAW;AAClB,SAASC,QAAQ,QAAQ;AAEzB,SAASC,WAAW,QAAQ;AAC5B,SAASC,aAAa,QAAQ;AAC9B,SAASC,YAAY,QAAQ;AAE7B,OAAO,MAAMC,UAAA,GAgBPC,KAAA;EACJ,MAAM;IACJC,MAAM;IACNC,MAAM;IACNC,SAAS;IACTC,YAAY;IACZC,UAAU;IACVC,UAAU;IACVC,MAAM;IACNC,OAAO;IACPC,SAAS;IACTC,QAAQ;IACRC;EAAQ,CACT,GAAGX,KAAA;EAEJ,MAAM;IAAEY,UAAU;IAAEC;EAAS,CAAE,GAAGlB,QAAA;EAClC,MAAMmB,UAAA,GAAajB,aAAA,CAAc;EAEjC,MAAM,CAACkB,UAAA,EAAYC,aAAA,CAAc,GAAGtB,KAAA,CAAMuB,QAAQ,CAAgB;EAElE,oBACEC,KAAA,CAACxB,KAAA,CAAMyB,QAAQ;4BACbC,IAAA,CAACtB,YAAA;MACCG,MAAA,EAAQA,CAACoB,CAAA,EAAGC,YAAA;QACV,IAAI,OAAOrB,MAAA,KAAW,YAAY;UAChC,KAAKA,MAAA,CAAOc,UAAA,EAAYO,YAAA;QAC1B;QACAV,UAAA,CAAWE,UAAA;MACb;MACAS,WAAA,EAAaZ,QAAA;MACbT,MAAA,EAAQA,MAAA;MACRY,UAAA,EAAYA,UAAA;MACZP,MAAA,EAAQA;qBAEVa,IAAA,CAACxB,WAAA;MACCK,MAAA,EAASuB,KAAA;QACPR,aAAA,CAAcQ,KAAA;QACdX,SAAA,CAAUC,UAAA;MACZ;MACAV,YAAA,EAAcA,CAAA,KAAMA,YAAA,CAAaO,QAAA,EAAUR,SAAA;MAC3CE,UAAA,EAAYA,UAAA;MACZmB,KAAA,EAAOb,QAAA;MACPL,UAAA,EAAYA,UAAA;MACZE,OAAA,EAASA,OAAA;MACTC,SAAA,EAAWA,SAAA;MACXC,QAAA,EAAUA;;;AAIlB","ignoreList":[]}