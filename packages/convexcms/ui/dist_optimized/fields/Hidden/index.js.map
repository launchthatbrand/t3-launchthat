{"version":3,"file":"index.js","names":["React","useEffect","useField","withCondition","HiddenFieldComponent","props","disableModifyingForm","path","value","valueFromProps","setValue","undefined","_jsx","id","replace","name","onChange","type","HiddenField"],"sources":["../../../src/fields/Hidden/index.tsx"],"sourcesContent":["\"use client\";\n\nimport type { HiddenFieldProps } from \"@convexcms/core\";\nimport React, { useEffect } from \"react\";\n\nimport { useField } from \"../../forms/useField/index.js\";\nimport { withCondition } from \"../../forms/withCondition/index.js\";\n\n/**\n * This is mainly used to save a value on the form that is not visible to the user.\n * For example, this sets the `Ã¬d` property of a block in the Blocks field.\n */\nconst HiddenFieldComponent: React.FC<HiddenFieldProps> = (props) => {\n  const { disableModifyingForm = true, path, value: valueFromProps } = props;\n\n  const { setValue, value } = useField({\n    path,\n  });\n\n  useEffect(() => {\n    if (valueFromProps !== undefined) {\n      setValue(valueFromProps, disableModifyingForm);\n    }\n  }, [valueFromProps, setValue, disableModifyingForm]);\n\n  return (\n    <input\n      id={`field-${path?.replace(/\\./g, \"__\")}`}\n      name={path}\n      onChange={setValue}\n      type=\"hidden\"\n      value={(value as string) || \"\"}\n    />\n  );\n};\n\nexport const HiddenField = withCondition(HiddenFieldComponent);\n"],"mappings":"AAAA;;;AAGA,OAAOA,KAAA,IAASC,SAAS,QAAQ;AAEjC,SAASC,QAAQ,QAAQ;AACzB,SAASC,aAAa,QAAQ;AAE9B;;;;AAIA,MAAMC,oBAAA,GAAoDC,KAAA;EACxD,MAAM;IAAEC,oBAAA,GAAuB,IAAI;IAAEC,IAAI;IAAEC,KAAA,EAAOC;EAAc,CAAE,GAAGJ,KAAA;EAErE,MAAM;IAAEK,QAAQ;IAAEF;EAAK,CAAE,GAAGN,QAAA,CAAS;IACnCK;EACF;EAEAN,SAAA,CAAU;IACR,IAAIQ,cAAA,KAAmBE,SAAA,EAAW;MAChCD,QAAA,CAASD,cAAA,EAAgBH,oBAAA;IAC3B;EACF,GAAG,CAACG,cAAA,EAAgBC,QAAA,EAAUJ,oBAAA,CAAqB;EAEnD,oBACEM,IAAA,CAAC;IACCC,EAAA,EAAI,SAASN,IAAA,EAAMO,OAAA,CAAQ,OAAO,OAAO;IACzCC,IAAA,EAAMR,IAAA;IACNS,QAAA,EAAUN,QAAA;IACVO,IAAA,EAAK;IACLT,KAAA,EAAOA,KAAC,IAAoB;;AAGlC;AAEA,OAAO,MAAMU,WAAA,GAAcf,aAAA,CAAcC,oBAAA","ignoreList":[]}