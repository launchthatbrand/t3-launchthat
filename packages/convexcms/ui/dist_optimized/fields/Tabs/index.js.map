{"version":3,"file":"index.js","names":["React","useCallback","useEffect","useState","tabHasName","toKebabCase","getTranslation","useCollapsible","RenderCustomComponent","useFormFields","RenderFields","useField","withCondition","useDocumentInfo","usePreferences","useTranslation","FieldDescription","fieldBaseClass","TabsProvider","TabComponent","baseClass","generateTabPath","activeTabConfig","path","tabPath","name","TabsFieldComponent","props","field","admin","className","tabs","forceRender","indexPath","parentPath","parentSchemaPath","permissions","readOnly","getPreference","setPreference","preferencesKey","i18n","isWithinCollapsible","tabStates","fields","map","tab","index","id","passesCondition","activeTabIndex","setActiveTabIndex","filter","tabsPrefKey","activeTabPath","setActiveTabPath","activeTabSchemaPath","setActiveTabSchemaPath","activePathChildrenPath","activeTabInfo","activePathSchemaChildrenPath","activeTabDescription","description","activeTabStaticDescription","t","hasVisibleTabs","some","handleTabChange","incomingTabIndex","existingPreferences","tabIndex","getInitialPref","initialIndex","newIndex","nextTab","find","_jsx","Boolean","join","_jsxs","hidden","isActive","setIsActive","TabContent","parentIndexPath","String","TabsField","label","customComponents","AfterInput","BeforeInput","Description","Field","CustomComponent","Fallback","marginPlacement"],"sources":["../../../src/fields/Tabs/index.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./index.scss\";\n\nimport type {\n  ClientField,\n  ClientTab,\n  DocumentPreferences,\n  SanitizedFieldPermissions,\n  StaticDescription,\n  TabsFieldClientComponent,\n} from \"@convexcms/core\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { tabHasName, toKebabCase } from \"@convexcms/core/shared\";\nimport { getTranslation } from \"@convexcms/translations\";\n\nimport { useCollapsible } from \"../../elements/Collapsible/provider.js\";\nimport { RenderCustomComponent } from \"../../elements/RenderCustomComponent/index.js\";\nimport { useFormFields } from \"../../forms/Form/index.js\";\nimport { RenderFields } from \"../../forms/RenderFields/index.js\";\nimport { useField } from \"../../forms/useField/index.js\";\nimport { withCondition } from \"../../forms/withCondition/index.js\";\nimport { useDocumentInfo } from \"../../providers/DocumentInfo/index.js\";\nimport { usePreferences } from \"../../providers/Preferences/index.js\";\nimport { useTranslation } from \"../../providers/Translation/index.js\";\nimport { FieldDescription } from \"../FieldDescription/index.js\";\nimport { fieldBaseClass } from \"../shared/index.js\";\nimport { TabsProvider } from \"./provider.js\";\nimport { TabComponent } from \"./Tab/index.js\";\n\nconst baseClass = \"tabs-field\";\n\nexport { TabsProvider };\n\nfunction generateTabPath({\n  activeTabConfig,\n  path,\n}: {\n  activeTabConfig: ClientTab;\n  path: string;\n}) {\n  let tabPath = path;\n\n  if (tabHasName(activeTabConfig) && activeTabConfig.name) {\n    if (path) {\n      tabPath = `${path}.${activeTabConfig.name}`;\n    } else {\n      tabPath = activeTabConfig.name;\n    }\n  }\n\n  return tabPath;\n}\n\nconst TabsFieldComponent: TabsFieldClientComponent = (props) => {\n  const {\n    field: { admin: { className } = {}, tabs = [] },\n    forceRender = false,\n    indexPath = \"\",\n    parentPath = \"\",\n    parentSchemaPath = \"\",\n    path = \"\",\n    permissions,\n    readOnly,\n  } = props;\n\n  const { getPreference, setPreference } = usePreferences();\n  const { preferencesKey } = useDocumentInfo();\n  const { i18n } = useTranslation();\n  const { isWithinCollapsible } = useCollapsible();\n\n  const tabStates = useFormFields(([fields]) => {\n    return tabs.map((tab, index) => {\n      const id = tab?.id;\n\n      return {\n        index,\n        passesCondition: fields?.[id]?.passesCondition ?? true,\n        tab,\n      };\n    });\n  });\n\n  const [activeTabIndex, setActiveTabIndex] = useState<number>(\n    () =>\n      tabStates.filter(({ passesCondition }) => passesCondition)?.[0]?.index ??\n      0,\n  );\n\n  const tabsPrefKey = `tabs-${indexPath}`;\n  const [activeTabPath, setActiveTabPath] = useState<string>(() =>\n    generateTabPath({\n      activeTabConfig: tabs[activeTabIndex],\n      path: parentPath,\n    }),\n  );\n\n  const [activeTabSchemaPath, setActiveTabSchemaPath] = useState<string>(() =>\n    generateTabPath({ activeTabConfig: tabs[0], path: parentSchemaPath }),\n  );\n\n  const activePathChildrenPath = tabHasName(tabs[activeTabIndex])\n    ? activeTabPath\n    : parentPath;\n  const activeTabInfo = tabStates[activeTabIndex];\n  const activeTabConfig = activeTabInfo?.tab;\n  const activePathSchemaChildrenPath = tabHasName(tabs[activeTabIndex])\n    ? activeTabSchemaPath\n    : parentSchemaPath;\n\n  const activeTabDescription =\n    activeTabConfig.admin?.description ?? activeTabConfig.description;\n\n  const activeTabStaticDescription =\n    typeof activeTabDescription === \"function\"\n      ? activeTabDescription({ i18n, t: i18n.t })\n      : activeTabDescription;\n\n  const hasVisibleTabs = tabStates.some(\n    ({ passesCondition }) => passesCondition,\n  );\n\n  const handleTabChange = useCallback(\n    async (incomingTabIndex: number): Promise<void> => {\n      setActiveTabIndex(incomingTabIndex);\n\n      setActiveTabPath(\n        generateTabPath({\n          activeTabConfig: tabs[incomingTabIndex],\n          path: parentPath,\n        }),\n      );\n      setActiveTabSchemaPath(\n        generateTabPath({\n          activeTabConfig: tabs[incomingTabIndex],\n          path: parentSchemaPath,\n        }),\n      );\n\n      const existingPreferences: DocumentPreferences =\n        await getPreference(preferencesKey);\n\n      if (preferencesKey) {\n        void setPreference(preferencesKey, {\n          ...existingPreferences,\n          ...(path\n            ? {\n                fields: {\n                  ...(existingPreferences?.fields || {}),\n                  [path]: {\n                    ...existingPreferences?.fields?.[path],\n                    tabIndex: incomingTabIndex,\n                  },\n                },\n              }\n            : {\n                fields: {\n                  ...existingPreferences?.fields,\n                  [tabsPrefKey]: {\n                    ...existingPreferences?.fields?.[tabsPrefKey],\n                    tabIndex: incomingTabIndex,\n                  },\n                },\n              }),\n        });\n      }\n    },\n    [\n      tabs,\n      parentPath,\n      parentSchemaPath,\n      getPreference,\n      preferencesKey,\n      setPreference,\n      path,\n      tabsPrefKey,\n    ],\n  );\n\n  useEffect(() => {\n    if (preferencesKey) {\n      const getInitialPref = async () => {\n        const existingPreferences: DocumentPreferences =\n          await getPreference(preferencesKey);\n        const initialIndex = path\n          ? existingPreferences?.fields?.[path]?.tabIndex\n          : existingPreferences?.fields?.[tabsPrefKey]?.tabIndex;\n\n        const newIndex = initialIndex || 0;\n        setActiveTabIndex(newIndex);\n\n        setActiveTabPath(\n          generateTabPath({\n            activeTabConfig: tabs[newIndex],\n            path: parentPath,\n          }),\n        );\n        setActiveTabSchemaPath(\n          generateTabPath({\n            activeTabConfig: tabs[newIndex],\n            path: parentSchemaPath,\n          }),\n        );\n      };\n      void getInitialPref();\n    }\n  }, [\n    path,\n    getPreference,\n    preferencesKey,\n    tabsPrefKey,\n    tabs,\n    parentPath,\n    parentSchemaPath,\n  ]);\n\n  useEffect(() => {\n    if (activeTabInfo?.passesCondition === false) {\n      const nextTab = tabStates.find(({ passesCondition }) => passesCondition);\n      if (nextTab) {\n        void handleTabChange(nextTab.index);\n      }\n    }\n  }, [activeTabInfo, tabStates, handleTabChange]);\n\n  return (\n    <div\n      className={[\n        fieldBaseClass,\n        className,\n        baseClass,\n        isWithinCollapsible && `${baseClass}--within-collapsible`,\n        !hasVisibleTabs && `${baseClass}--hidden`,\n      ]\n        .filter(Boolean)\n        .join(\" \")}\n    >\n      <TabsProvider>\n        <div className={`${baseClass}__tabs-wrap`}>\n          <div className={`${baseClass}__tabs`}>\n            {tabStates.map(({ index, passesCondition, tab }) => (\n              <TabComponent\n                hidden={!passesCondition}\n                isActive={activeTabIndex === index}\n                key={index}\n                parentPath={path}\n                setIsActive={() => {\n                  void handleTabChange(index);\n                }}\n                tab={tab}\n              />\n            ))}\n          </div>\n        </div>\n        <div className={`${baseClass}__content-wrap`}>\n          {activeTabConfig && (\n            <TabContent\n              description={activeTabStaticDescription}\n              fields={activeTabConfig.fields}\n              forceRender={forceRender}\n              hidden={false}\n              parentIndexPath={\n                tabHasName(activeTabConfig)\n                  ? \"\"\n                  : `${indexPath ? indexPath + \"-\" : \"\"}` +\n                    String(activeTabInfo.index)\n              }\n              parentPath={activePathChildrenPath}\n              parentSchemaPath={activePathSchemaChildrenPath}\n              path={activeTabPath}\n              permissions={\n                permissions &&\n                typeof permissions === \"object\" &&\n                \"name\" in activeTabConfig\n                  ? permissions[activeTabConfig.name] &&\n                    typeof permissions[activeTabConfig.name] === \"object\" &&\n                    \"fields\" in permissions[activeTabConfig.name]\n                    ? permissions[activeTabConfig.name].fields\n                    : permissions[activeTabConfig.name]\n                  : permissions\n              }\n              readOnly={readOnly}\n            />\n          )}\n        </div>\n      </TabsProvider>\n    </div>\n  );\n};\n\nexport const TabsField = withCondition(TabsFieldComponent);\n\ntype ActiveTabProps = {\n  readonly description: StaticDescription;\n  readonly fields: ClientField[];\n  readonly forceRender?: boolean;\n  readonly hidden: boolean;\n  readonly label?: string;\n  readonly parentIndexPath: string;\n  readonly parentPath: string;\n  readonly parentSchemaPath: string;\n  readonly path: string;\n  readonly permissions: SanitizedFieldPermissions;\n  readonly readOnly: boolean;\n};\n\nfunction TabContent({\n  description,\n  fields,\n  forceRender,\n  hidden,\n  label,\n  parentIndexPath,\n  parentPath,\n  parentSchemaPath,\n  path,\n  permissions,\n  readOnly,\n}: ActiveTabProps) {\n  const { i18n } = useTranslation();\n\n  const {\n    customComponents: { AfterInput, BeforeInput, Description, Field } = {},\n  } = useField({\n    path,\n  });\n\n  if (Field) {\n    return Field;\n  }\n\n  return (\n    <div\n      className={[\n        hidden && `${baseClass}__tab--hidden`,\n        `${baseClass}__tab`,\n        label &&\n          `${baseClass}__tabConfigLabel-${toKebabCase(getTranslation(label, i18n))}`,\n      ]\n        .filter(Boolean)\n        .join(\" \")}\n    >\n      <RenderCustomComponent\n        CustomComponent={Description}\n        Fallback={\n          <FieldDescription\n            description={description}\n            marginPlacement=\"bottom\"\n            path={path}\n          />\n        }\n      />\n      {BeforeInput}\n      <RenderFields\n        fields={fields}\n        forceRender={forceRender}\n        parentIndexPath={parentIndexPath}\n        parentPath={parentPath}\n        parentSchemaPath={parentSchemaPath}\n        permissions={permissions}\n        readOnly={readOnly}\n      />\n      {AfterInput}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}