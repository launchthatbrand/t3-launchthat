{"version":3,"file":"index.js","names":["React","Fragment","ModalContainer","ModalProvider","ScrollInfoProvider","LoadingOverlayProvider","NavProvider","StayLoggedInModal","StepNavProvider","WindowInfoProvider","AuthProvider","ClientFunctionProvider","ConfigProvider","DocumentEventsProvider","LocaleProvider","ParamsProvider","PreferencesProvider","RouteCache","RouteTransitionProvider","SearchParamsProvider","ServerFunctionsProvider","ThemeProvider","ToastContainer","TranslationProvider","UploadHandlersProvider","RootProvider","children","config","dateFNSKey","fallbackLang","isNavOpen","languageCode","languageOptions","locale","permissions","serverFunction","switchLanguageServerAction","theme","translations","user","RouteCacheComponent","process","env","NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH","_jsxs","_jsx","language","breakpoints","l","m","s","xs","classPrefix","transTime","zIndex","initialIsOpen"],"sources":["../../../src/providers/Root/index.tsx"],"sourcesContent":["\"use client\";\n\nimport type {\n  I18nClient,\n  I18nOptions,\n  Language,\n} from \"@convexcms/translations\";\nimport type {\n  ClientConfig,\n  LanguageOptions,\n  Locale,\n  SanitizedPermissions,\n  ServerFunctionClient,\n  User,\n} from \"payload\";\nimport React, { Fragment } from \"react\";\nimport { ModalContainer, ModalProvider } from \"@faceless-ui/modal\";\nimport { ScrollInfoProvider } from \"@faceless-ui/scroll-info\";\n\nimport type { Theme } from \"../Theme/index.js\";\nimport { LoadingOverlayProvider } from \"../../elements/LoadingOverlay/index.js\";\nimport { NavProvider } from \"../../elements/Nav/context.js\";\nimport { StayLoggedInModal } from \"../../elements/StayLoggedIn/index.js\";\nimport { StepNavProvider } from \"../../elements/StepNav/index.js\";\nimport { WindowInfoProvider } from \"../../providers/WindowInfo/index.js\";\nimport { AuthProvider } from \"../Auth/index.js\";\nimport { ClientFunctionProvider } from \"../ClientFunction/index.js\";\nimport { ConfigProvider } from \"../Config/index.js\";\nimport { DocumentEventsProvider } from \"../DocumentEvents/index.js\";\nimport { LocaleProvider } from \"../Locale/index.js\";\nimport { ParamsProvider } from \"../Params/index.js\";\nimport { PreferencesProvider } from \"../Preferences/index.js\";\nimport { RouteCache } from \"../RouteCache/index.js\";\nimport { RouteTransitionProvider } from \"../RouteTransition/index.js\";\nimport { SearchParamsProvider } from \"../SearchParams/index.js\";\nimport { ServerFunctionsProvider } from \"../ServerFunctions/index.js\";\nimport { ThemeProvider } from \"../Theme/index.js\";\nimport { ToastContainer } from \"../ToastContainer/index.js\";\nimport { TranslationProvider } from \"../Translation/index.js\";\nimport { UploadHandlersProvider } from \"../UploadHandlers/index.js\";\n\ntype Props = {\n  readonly children: React.ReactNode;\n  readonly config: ClientConfig;\n  readonly dateFNSKey: Language[\"dateFNSKey\"];\n  readonly fallbackLang: I18nOptions[\"fallbackLanguage\"];\n  readonly isNavOpen?: boolean;\n  readonly languageCode: string;\n  readonly languageOptions: LanguageOptions;\n  readonly locale?: Locale[\"code\"];\n  readonly permissions: SanitizedPermissions;\n  readonly serverFunction: ServerFunctionClient;\n  readonly switchLanguageServerAction?: (lang: string) => Promise<void>;\n  readonly theme: Theme;\n  readonly translations: I18nClient[\"translations\"];\n  readonly user: null | User;\n};\n\nexport const RootProvider: React.FC<Props> = ({\n  children,\n  config,\n  dateFNSKey,\n  fallbackLang,\n  isNavOpen,\n  languageCode,\n  languageOptions,\n  locale,\n  permissions,\n  serverFunction,\n  switchLanguageServerAction,\n  theme,\n  translations,\n  user,\n}) => {\n  const RouteCacheComponent =\n    process.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH === \"true\"\n      ? RouteCache\n      : Fragment;\n\n  return (\n    <Fragment>\n      <ServerFunctionsProvider serverFunction={serverFunction}>\n        <RouteTransitionProvider>\n          <RouteCacheComponent>\n            <ConfigProvider config={config}>\n              <ClientFunctionProvider>\n                <TranslationProvider\n                  dateFNSKey={dateFNSKey}\n                  fallbackLang={fallbackLang}\n                  language={languageCode}\n                  languageOptions={languageOptions}\n                  switchLanguageServerAction={switchLanguageServerAction}\n                  translations={translations}\n                >\n                  <WindowInfoProvider\n                    breakpoints={{\n                      l: \"(max-width: 1440px)\",\n                      m: \"(max-width: 1024px)\",\n                      s: \"(max-width: 768px)\",\n                      xs: \"(max-width: 400px)\",\n                    }}\n                  >\n                    <ScrollInfoProvider>\n                      <SearchParamsProvider>\n                        <ModalProvider\n                          classPrefix=\"@convexcms/core\"\n                          transTime={0}\n                          zIndex=\"var(--z-modal)\"\n                        >\n                          <AuthProvider permissions={permissions} user={user}>\n                            <PreferencesProvider>\n                              <ThemeProvider theme={theme}>\n                                <ParamsProvider>\n                                  <LocaleProvider locale={locale}>\n                                    <StepNavProvider>\n                                      <LoadingOverlayProvider>\n                                        <DocumentEventsProvider>\n                                          <NavProvider\n                                            initialIsOpen={isNavOpen}\n                                          >\n                                            <UploadHandlersProvider>\n                                              {children}\n                                            </UploadHandlersProvider>\n                                          </NavProvider>\n                                        </DocumentEventsProvider>\n                                      </LoadingOverlayProvider>\n                                    </StepNavProvider>\n                                  </LocaleProvider>\n                                </ParamsProvider>\n                              </ThemeProvider>\n                            </PreferencesProvider>\n                            <ModalContainer />\n                            <StayLoggedInModal />\n                          </AuthProvider>\n                        </ModalProvider>\n                      </SearchParamsProvider>\n                    </ScrollInfoProvider>\n                  </WindowInfoProvider>\n                </TranslationProvider>\n              </ClientFunctionProvider>\n            </ConfigProvider>\n          </RouteCacheComponent>\n        </RouteTransitionProvider>\n      </ServerFunctionsProvider>\n      <ToastContainer />\n    </Fragment>\n  );\n};\n"],"mappings":"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","ignoreList":[]}