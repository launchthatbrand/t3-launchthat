{"version":3,"file":"index.js","names":["React","useListDrawerContext","DefaultCell","useTableColumns","baseClass","CellPropsContext","createContext","useCellProps","use","RenderDefaultCell","clientProps","columnIndex","isLinkedColumn","drawerSlug","onSelect","LinkedCellOverride","propsToPass","className","link","onClick","collectionSlug","rowColl","rowData","doc","docID","id","_jsx","value"],"sources":["../../../../src/providers/TableColumns/RenderDefaultCell/index.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./index.scss\";\n\nimport type { DefaultCellComponentProps } from \"@convexcms/core\";\nimport React from \"react\";\n\nimport { useListDrawerContext } from \"../../../elements/ListDrawer/Provider.js\";\nimport { DefaultCell } from \"../../../elements/Table/DefaultCell/index.js\";\nimport { useTableColumns } from \"../index.js\";\n\nconst baseClass = \"default-cell\";\n\nconst CellPropsContext = React.createContext<DefaultCellComponentProps | null>(\n  null,\n);\n\nexport const useCellProps = (): DefaultCellComponentProps | null =>\n  React.use(CellPropsContext);\n\nexport const RenderDefaultCell: React.FC<{\n  clientProps: DefaultCellComponentProps;\n  columnIndex: number;\n  enableRowSelections?: boolean;\n  isLinkedColumn?: boolean;\n}> = ({ clientProps, columnIndex, isLinkedColumn }) => {\n  const { drawerSlug, onSelect } = useListDrawerContext();\n  const { LinkedCellOverride } = useTableColumns();\n\n  const propsToPass: DefaultCellComponentProps = {\n    ...clientProps,\n    columnIndex,\n  };\n\n  if (isLinkedColumn && drawerSlug) {\n    propsToPass.className = `${baseClass}__first-cell`;\n    propsToPass.link = false;\n    propsToPass.onClick = ({ collectionSlug: rowColl, rowData }) => {\n      if (typeof onSelect === \"function\") {\n        onSelect({\n          collectionSlug: rowColl,\n          doc: rowData,\n          docID: rowData.id as string,\n        });\n      }\n    };\n  }\n\n  return (\n    <CellPropsContext value={propsToPass}>\n      {isLinkedColumn && LinkedCellOverride ? (\n        LinkedCellOverride\n      ) : (\n        <DefaultCell {...propsToPass} />\n      )}\n    </CellPropsContext>\n  );\n};\n"],"mappings":"AAAA;;;AAEA,OAAO;AAGP,OAAOA,KAAA,MAAW;AAElB,SAASC,oBAAoB,QAAQ;AACrC,SAASC,WAAW,QAAQ;AAC5B,SAASC,eAAe,QAAQ;AAEhC,MAAMC,SAAA,GAAY;AAElB,MAAMC,gBAAA,gBAAmBL,KAAA,CAAMM,aAAa,CAC1C;AAGF,OAAO,MAAMC,YAAA,GAAeA,CAAA,KAC1BP,KAAA,CAAMQ,GAAG,CAACH,gBAAA;AAEZ,OAAO,MAAMI,iBAAA,GAKRA,CAAC;EAAEC,WAAW;EAAEC,WAAW;EAAEC;AAAc,CAAE;EAChD,MAAM;IAAEC,UAAU;IAAEC;EAAQ,CAAE,GAAGb,oBAAA;EACjC,MAAM;IAAEc;EAAkB,CAAE,GAAGZ,eAAA;EAE/B,MAAMa,WAAA,GAAyC;IAC7C,GAAGN,WAAW;IACdC;EACF;EAEA,IAAIC,cAAA,IAAkBC,UAAA,EAAY;IAChCG,WAAA,CAAYC,SAAS,GAAG,GAAGb,SAAA,cAAuB;IAClDY,WAAA,CAAYE,IAAI,GAAG;IACnBF,WAAA,CAAYG,OAAO,GAAG,CAAC;MAAEC,cAAA,EAAgBC,OAAO;MAAEC;IAAO,CAAE;MACzD,IAAI,OAAOR,QAAA,KAAa,YAAY;QAClCA,QAAA,CAAS;UACPM,cAAA,EAAgBC,OAAA;UAChBE,GAAA,EAAKD,OAAA;UACLE,KAAA,EAAOF,OAAA,CAAQG;QACjB;MACF;IACF;EACF;EAEA,oBACEC,IAAA,CAACrB,gBAAA;IAAiBsB,KAAA,EAAOX,WAAA;cACtBJ,cAAA,IAAkBG,kBAAA,GACjBA,kBAAA,gBAEAW,IAAA,CAACxB,WAAA;MAAa,GAAGc;;;AAIzB","ignoreList":[]}