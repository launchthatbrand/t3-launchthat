{"version":3,"file":"index.js","names":["React","Fragment","useEffect","formatAdminURL","getTranslation","useFormInitializing","useFormProcessing","useConfig","useEditDepth","useTranslation","formatDate","Autosave","Button","CopyLocaleData","DeleteDocument","DuplicateDocument","Gutter","Locked","Popup","PopupList","PreviewButton","PublishButton","RenderCustomComponent","SaveButton","SaveDraftButton","Status","baseClass","DocumentControls","props","id","slug","customComponents","CustomPreviewButton","CustomPublishButton","CustomSaveButton","CustomSaveDraftButton","data","disableActions","disableCreate","hasSavePermission","isAccountView","isEditing","onDelete","onDrawerCreateNew","onDuplicate","onTakeOver","permissions","readOnlyForIncomingUser","redirectAfterDelete","redirectAfterDuplicate","user","i18n","t","editDepth","config","getEntityConfig","collectionConfig","collectionSlug","globalConfig","globalSlug","admin","dateFormat","localization","routes","adminRoute","updatedAt","setUpdatedAt","useState","createdAt","setCreatedAt","processing","initializing","date","pattern","hasCreatePermission","create","hasDeletePermission","delete","showDotMenu","Boolean","unsavedDraftWithValidations","versions","drafts","validate","autosaveEnabled","autosave","showCopyToLocale","disableCopyToLocale","_jsxs","className","_jsx","label","labels","singular","filter","join","collection","global","publishedDocUpdatedAt","timestamps","title","preview","CustomComponent","Fallback","buttonStyle","onClick","size","type","button","disabled","horizontalAlign","verticalAlign","ButtonGroup","href","path","disableDuplicate","toString","singularLabel","buttonId","useAsTitle"],"sources":["../../../src/elements/DocumentControls/index.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./index.scss\";\n\nimport type {\n  ClientUser,\n  SanitizedCollectionConfig,\n  SanitizedCollectionPermission,\n  SanitizedGlobalPermission,\n} from \"@convexcms/core\";\nimport React, { Fragment, useEffect } from \"react\";\nimport { formatAdminURL } from \"@convexcms/core/shared\";\nimport { getTranslation } from \"@convexcms/translations\";\n\nimport type { DocumentDrawerContextType } from \"../DocumentDrawer/Provider.js\";\nimport {\n  useFormInitializing,\n  useFormProcessing,\n} from \"../../forms/Form/context.js\";\nimport { useConfig } from \"../../providers/Config/index.js\";\nimport { useEditDepth } from \"../../providers/EditDepth/index.js\";\nimport { useTranslation } from \"../../providers/Translation/index.js\";\nimport { formatDate } from \"../../utilities/formatDocTitle/formatDateTitle.js\";\nimport { Autosave } from \"../Autosave/index.js\";\nimport { Button } from \"../Button/index.js\";\nimport { CopyLocaleData } from \"../CopyLocaleData/index.js\";\nimport { DeleteDocument } from \"../DeleteDocument/index.js\";\nimport { DuplicateDocument } from \"../DuplicateDocument/index.js\";\nimport { Gutter } from \"../Gutter/index.js\";\nimport { Locked } from \"../Locked/index.js\";\nimport { Popup, PopupList } from \"../Popup/index.js\";\nimport { PreviewButton } from \"../PreviewButton/index.js\";\nimport { PublishButton } from \"../PublishButton/index.js\";\nimport { RenderCustomComponent } from \"../RenderCustomComponent/index.js\";\nimport { SaveButton } from \"../SaveButton/index.js\";\nimport { SaveDraftButton } from \"../SaveDraftButton/index.js\";\nimport { Status } from \"../Status/index.js\";\n\nconst baseClass = \"doc-controls\";\n\nexport const DocumentControls: React.FC<{\n  readonly apiURL: string;\n  readonly customComponents?: {\n    readonly PreviewButton?: React.ReactNode;\n    readonly PublishButton?: React.ReactNode;\n    readonly SaveButton?: React.ReactNode;\n    readonly SaveDraftButton?: React.ReactNode;\n  };\n  readonly data?: any;\n  readonly disableActions?: boolean;\n  readonly disableCreate?: boolean;\n  readonly hasPublishPermission?: boolean;\n  readonly hasSavePermission?: boolean;\n  readonly id?: number | string;\n  readonly isAccountView?: boolean;\n  readonly isEditing?: boolean;\n  readonly onDelete?: DocumentDrawerContextType[\"onDelete\"];\n  readonly onDrawerCreateNew?: () => void;\n  /* Only available if `redirectAfterDuplicate` is `false` */\n  readonly onDuplicate?: DocumentDrawerContextType[\"onDuplicate\"];\n  readonly onSave?: DocumentDrawerContextType[\"onSave\"];\n  readonly onTakeOver?: () => void;\n  readonly permissions:\n    | null\n    | SanitizedCollectionPermission\n    | SanitizedGlobalPermission;\n  readonly readOnlyForIncomingUser?: boolean;\n  readonly redirectAfterDelete?: boolean;\n  readonly redirectAfterDuplicate?: boolean;\n  readonly slug: SanitizedCollectionConfig[\"slug\"];\n  readonly user?: ClientUser;\n}> = (props) => {\n  const {\n    id,\n    slug,\n    customComponents: {\n      PreviewButton: CustomPreviewButton,\n      PublishButton: CustomPublishButton,\n      SaveButton: CustomSaveButton,\n      SaveDraftButton: CustomSaveDraftButton,\n    } = {},\n    data,\n    disableActions,\n    disableCreate,\n    hasSavePermission,\n    isAccountView,\n    isEditing,\n    onDelete,\n    onDrawerCreateNew,\n    onDuplicate,\n    onTakeOver,\n    permissions,\n    readOnlyForIncomingUser,\n    redirectAfterDelete,\n    redirectAfterDuplicate,\n    user,\n  } = props;\n\n  const { i18n, t } = useTranslation();\n\n  const editDepth = useEditDepth();\n\n  const { config, getEntityConfig } = useConfig();\n\n  const collectionConfig = getEntityConfig({ collectionSlug: slug });\n\n  const globalConfig = getEntityConfig({ globalSlug: slug });\n\n  const {\n    admin: { dateFormat },\n    localization,\n    routes: { admin: adminRoute },\n  } = config;\n\n  // Settings these in state to avoid hydration issues if there is a mismatch between the server and client\n  const [updatedAt, setUpdatedAt] = React.useState<string>(\"\");\n  const [createdAt, setCreatedAt] = React.useState<string>(\"\");\n\n  const processing = useFormProcessing();\n  const initializing = useFormInitializing();\n\n  useEffect(() => {\n    if (data?.updatedAt) {\n      setUpdatedAt(\n        formatDate({ date: data.updatedAt, i18n, pattern: dateFormat }),\n      );\n    }\n    if (data?.createdAt) {\n      setCreatedAt(\n        formatDate({ date: data.createdAt, i18n, pattern: dateFormat }),\n      );\n    }\n  }, [data, i18n, dateFormat]);\n\n  const hasCreatePermission =\n    permissions && \"create\" in permissions && permissions.create;\n\n  const hasDeletePermission =\n    permissions && \"delete\" in permissions && permissions.delete;\n\n  const showDotMenu = Boolean(\n    collectionConfig &&\n      id &&\n      !disableActions &&\n      (hasCreatePermission || hasDeletePermission),\n  );\n\n  const unsavedDraftWithValidations =\n    !id &&\n    collectionConfig?.versions?.drafts &&\n    collectionConfig.versions?.drafts.validate;\n\n  const autosaveEnabled =\n    (collectionConfig?.versions?.drafts &&\n      collectionConfig?.versions?.drafts?.autosave) ||\n    (globalConfig?.versions?.drafts &&\n      globalConfig?.versions?.drafts?.autosave);\n\n  const showCopyToLocale =\n    localization && !collectionConfig?.admin?.disableCopyToLocale;\n\n  return (\n    <Gutter className={baseClass}>\n      <div className={`${baseClass}__wrapper`}>\n        <div className={`${baseClass}__content`}>\n          <ul className={`${baseClass}__meta`}>\n            {collectionConfig && !isEditing && !isAccountView && (\n              <li className={`${baseClass}__list-item`}>\n                <p className={`${baseClass}__value`}>\n                  {i18n.t(\"general:creatingNewLabel\", {\n                    label: getTranslation(\n                      collectionConfig?.labels?.singular ??\n                        i18n.t(\"general:document\"),\n                      i18n,\n                    ),\n                  })}\n                </p>\n              </li>\n            )}\n            {user && readOnlyForIncomingUser && (\n              <Locked className={`${baseClass}__locked-controls`} user={user} />\n            )}\n            {(collectionConfig?.versions?.drafts ||\n              globalConfig?.versions?.drafts) && (\n              <Fragment>\n                {(globalConfig || (collectionConfig && isEditing)) && (\n                  <li\n                    className={[\n                      `${baseClass}__status`,\n                      `${baseClass}__list-item`,\n                    ]\n                      .filter(Boolean)\n                      .join(\" \")}\n                  >\n                    <Status />\n                  </li>\n                )}\n                {hasSavePermission &&\n                  autosaveEnabled &&\n                  !unsavedDraftWithValidations && (\n                    <li className={`${baseClass}__list-item`}>\n                      <Autosave\n                        collection={collectionConfig}\n                        global={globalConfig}\n                        id={id}\n                        publishedDocUpdatedAt={data?.createdAt}\n                      />\n                    </li>\n                  )}\n              </Fragment>\n            )}\n            {collectionConfig?.timestamps && (isEditing || isAccountView) && (\n              <Fragment>\n                <li\n                  className={[\n                    `${baseClass}__list-item`,\n                    `${baseClass}__value-wrap`,\n                  ]\n                    .filter(Boolean)\n                    .join(\" \")}\n                  title={data?.updatedAt ? updatedAt : \"\"}\n                >\n                  <p className={`${baseClass}__label`}>\n                    {i18n.t(\"general:lastModified\")}:&nbsp;\n                  </p>\n                  {data?.updatedAt && (\n                    <p className={`${baseClass}__value`}>{updatedAt}</p>\n                  )}\n                </li>\n                <li\n                  className={[\n                    `${baseClass}__list-item`,\n                    `${baseClass}__value-wrap`,\n                  ]\n                    .filter(Boolean)\n                    .join(\" \")}\n                  title={data?.createdAt ? createdAt : \"\"}\n                >\n                  <p className={`${baseClass}__label`}>\n                    {i18n.t(\"general:created\")}:&nbsp;\n                  </p>\n                  {data?.createdAt && (\n                    <p className={`${baseClass}__value`}>{createdAt}</p>\n                  )}\n                </li>\n              </Fragment>\n            )}\n          </ul>\n        </div>\n        <div className={`${baseClass}__controls-wrapper`}>\n          <div className={`${baseClass}__controls`}>\n            {(collectionConfig?.admin.preview ||\n              globalConfig?.admin.preview) && (\n              <RenderCustomComponent\n                CustomComponent={CustomPreviewButton}\n                Fallback={<PreviewButton />}\n              />\n            )}\n            {hasSavePermission && (\n              <Fragment>\n                {collectionConfig?.versions?.drafts ||\n                globalConfig?.versions?.drafts ? (\n                  <Fragment>\n                    {(unsavedDraftWithValidations || !autosaveEnabled) && (\n                      <RenderCustomComponent\n                        CustomComponent={CustomSaveDraftButton}\n                        Fallback={<SaveDraftButton />}\n                      />\n                    )}\n                    <RenderCustomComponent\n                      CustomComponent={CustomPublishButton}\n                      Fallback={<PublishButton />}\n                    />\n                  </Fragment>\n                ) : (\n                  <RenderCustomComponent\n                    CustomComponent={CustomSaveButton}\n                    Fallback={<SaveButton />}\n                  />\n                )}\n              </Fragment>\n            )}\n            {user && readOnlyForIncomingUser && (\n              <Button\n                buttonStyle=\"secondary\"\n                id=\"take-over\"\n                onClick={onTakeOver}\n                size=\"medium\"\n                type=\"button\"\n              >\n                {t(\"general:takeOver\")}\n              </Button>\n            )}\n          </div>\n          {showDotMenu && !readOnlyForIncomingUser && (\n            <Popup\n              button={\n                <div className={`${baseClass}__dots`}>\n                  <div />\n                  <div />\n                  <div />\n                </div>\n              }\n              className={`${baseClass}__popup`}\n              disabled={initializing || processing}\n              horizontalAlign=\"right\"\n              size=\"large\"\n              verticalAlign=\"bottom\"\n            >\n              <PopupList.ButtonGroup>\n                {showCopyToLocale && <CopyLocaleData />}\n                {hasCreatePermission && (\n                  <React.Fragment>\n                    {!disableCreate && (\n                      <Fragment>\n                        {editDepth > 1 ? (\n                          <PopupList.Button\n                            id=\"action-create\"\n                            onClick={onDrawerCreateNew}\n                          >\n                            {i18n.t(\"general:createNew\")}\n                          </PopupList.Button>\n                        ) : (\n                          <PopupList.Button\n                            href={formatAdminURL({\n                              adminRoute,\n                              path: `/collections/${collectionConfig?.slug}/create`,\n                            })}\n                            id=\"action-create\"\n                          >\n                            {i18n.t(\"general:createNew\")}\n                          </PopupList.Button>\n                        )}\n                      </Fragment>\n                    )}\n                    {collectionConfig.disableDuplicate !== true &&\n                      isEditing && (\n                        <DuplicateDocument\n                          id={id.toString()}\n                          onDuplicate={onDuplicate}\n                          redirectAfterDuplicate={redirectAfterDuplicate}\n                          singularLabel={collectionConfig?.labels?.singular}\n                          slug={collectionConfig?.slug}\n                        />\n                      )}\n                  </React.Fragment>\n                )}\n                {hasDeletePermission && (\n                  <DeleteDocument\n                    buttonId=\"action-delete\"\n                    collectionSlug={collectionConfig?.slug}\n                    id={id.toString()}\n                    onDelete={onDelete}\n                    redirectAfterDelete={redirectAfterDelete}\n                    singularLabel={collectionConfig?.labels?.singular}\n                    useAsTitle={collectionConfig?.admin?.useAsTitle}\n                  />\n                )}\n              </PopupList.ButtonGroup>\n            </Popup>\n          )}\n        </div>\n      </div>\n      <div className={`${baseClass}__divider`} />\n    </Gutter>\n  );\n};\n"],"mappings":"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","ignoreList":[]}