{"version":3,"file":"index.js","names":["React","CheckboxInput","useAuth","useSelection","Locked","baseClass","SelectRow","rowData","user","selected","setSelection","_isLocked","_userEditing","documentIsLocked","id","_jsx","checked","Boolean","get","className","join","onToggle"],"sources":["../../../src/elements/SelectRow/index.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./index.scss\";\n\nimport type { ClientUser } from \"@convexcms/core\";\nimport React from \"react\";\n\nimport { CheckboxInput } from \"../../fields/Checkbox/Input.js\";\nimport { useAuth } from \"../../providers/Auth/index.js\";\nimport { useSelection } from \"../../providers/Selection/index.js\";\nimport { Locked } from \"../Locked/index.js\";\n\nconst baseClass = \"select-row\";\n\nexport const SelectRow: React.FC<{\n  rowData: {\n    _isLocked: boolean;\n    _userEditing: ClientUser;\n    id: string;\n  };\n}> = ({ rowData }) => {\n  const { user } = useAuth();\n  const { selected, setSelection } = useSelection();\n  const { _isLocked, _userEditing } = rowData || {};\n\n  const documentIsLocked = _isLocked && _userEditing;\n\n  if (documentIsLocked && _userEditing.id !== user?.id) {\n    return <Locked user={_userEditing} />;\n  }\n\n  return (\n    <CheckboxInput\n      checked={Boolean(selected.get(rowData.id))}\n      className={[baseClass, `${baseClass}__checkbox`].join(\" \")}\n      onToggle={() => setSelection(rowData.id)}\n    />\n  );\n};\n"],"mappings":"AAAA;;;AAEA,OAAO;AAGP,OAAOA,KAAA,MAAW;AAElB,SAASC,aAAa,QAAQ;AAC9B,SAASC,OAAO,QAAQ;AACxB,SAASC,YAAY,QAAQ;AAC7B,SAASC,MAAM,QAAQ;AAEvB,MAAMC,SAAA,GAAY;AAElB,OAAO,MAAMC,SAAA,GAMRA,CAAC;EAAEC;AAAO,CAAE;EACf,MAAM;IAAEC;EAAI,CAAE,GAAGN,OAAA;EACjB,MAAM;IAAEO,QAAQ;IAAEC;EAAY,CAAE,GAAGP,YAAA;EACnC,MAAM;IAAEQ,SAAS;IAAEC;EAAY,CAAE,GAAGL,OAAA,IAAW,CAAC;EAEhD,MAAMM,gBAAA,GAAmBF,SAAA,IAAaC,YAAA;EAEtC,IAAIC,gBAAA,IAAoBD,YAAA,CAAaE,EAAE,KAAKN,IAAA,EAAMM,EAAA,EAAI;IACpD,oBAAOC,IAAA,CAACX,MAAA;MAAOI,IAAA,EAAMI;;EACvB;EAEA,oBACEG,IAAA,CAACd,aAAA;IACCe,OAAA,EAASC,OAAA,CAAQR,QAAA,CAASS,GAAG,CAACX,OAAA,CAAQO,EAAE;IACxCK,SAAA,EAAW,CAACd,SAAA,EAAW,GAAGA,SAAA,YAAqB,CAAC,CAACe,IAAI,CAAC;IACtDC,QAAA,EAAUA,CAAA,KAAMX,YAAA,CAAaH,OAAA,CAAQO,EAAE;;AAG7C","ignoreList":[]}