{"version":3,"file":"index.js","names":["React","Fragment","SelectAllStatus","useSelection","useTranslation","DeleteMany","EditMany","PublishMany","UnpublishMany","baseClass","ListSelection","collectionConfig","disableBulkDelete","disableBulkEdit","label","count","selectAll","toggleAll","totalDocs","t","_jsxs","className","_jsx","AllAvailable","id","onClick","type","collection"],"sources":["../../../src/elements/ListSelection/index.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./index.scss\";\n\nimport type { ClientCollectionConfig } from \"@convexcms/core\";\nimport React, { Fragment } from \"react\";\n\nimport {\n  SelectAllStatus,\n  useSelection,\n} from \"../../providers/Selection/index.js\";\nimport { useTranslation } from \"../../providers/Translation/index.js\";\nimport { DeleteMany } from \"../DeleteMany/index.js\";\nimport { EditMany } from \"../EditMany/index.js\";\nimport { PublishMany } from \"../PublishMany/index.js\";\nimport { UnpublishMany } from \"../UnpublishMany/index.js\";\n\nconst baseClass = \"list-selection\";\n\nexport type ListSelectionProps = {\n  collectionConfig?: ClientCollectionConfig;\n  disableBulkDelete?: boolean;\n  disableBulkEdit?: boolean;\n  label: string;\n};\n\nexport const ListSelection: React.FC<ListSelectionProps> = ({\n  collectionConfig,\n  disableBulkDelete,\n  disableBulkEdit,\n  label,\n}) => {\n  const { count, selectAll, toggleAll, totalDocs } = useSelection();\n  const { t } = useTranslation();\n\n  if (count === 0) {\n    return null;\n  }\n\n  return (\n    <div className={baseClass}>\n      <span>{t(\"general:selectedCount\", { count, label: \"\" })}</span>\n      {selectAll !== SelectAllStatus.AllAvailable && count < totalDocs && (\n        <button\n          aria-label={t(\"general:selectAll\", { count, label })}\n          className={`${baseClass}__button`}\n          id=\"select-all-across-pages\"\n          onClick={() => toggleAll(true)}\n          type=\"button\"\n        >\n          {t(\"general:selectAll\", { count: totalDocs, label: \"\" })}\n        </button>\n      )}\n      {!disableBulkEdit && !disableBulkDelete && <span>&mdash;</span>}\n      {!disableBulkEdit && (\n        <Fragment>\n          <EditMany collection={collectionConfig} />\n          <PublishMany collection={collectionConfig} />\n          <UnpublishMany collection={collectionConfig} />\n        </Fragment>\n      )}\n      {!disableBulkDelete && <DeleteMany collection={collectionConfig} />}\n    </div>\n  );\n};\n"],"mappings":"AAAA;;;AAEA,OAAO;AAGP,OAAOA,KAAA,IAASC,QAAQ,QAAQ;AAEhC,SACEC,eAAe,EACfC,YAAY,QACP;AACP,SAASC,cAAc,QAAQ;AAC/B,SAASC,UAAU,QAAQ;AAC3B,SAASC,QAAQ,QAAQ;AACzB,SAASC,WAAW,QAAQ;AAC5B,SAASC,aAAa,QAAQ;AAE9B,MAAMC,SAAA,GAAY;AASlB,OAAO,MAAMC,aAAA,GAA8CA,CAAC;EAC1DC,gBAAgB;EAChBC,iBAAiB;EACjBC,eAAe;EACfC;AAAK,CACN;EACC,MAAM;IAAEC,KAAK;IAAEC,SAAS;IAAEC,SAAS;IAAEC;EAAS,CAAE,GAAGf,YAAA;EACnD,MAAM;IAAEgB;EAAC,CAAE,GAAGf,cAAA;EAEd,IAAIW,KAAA,KAAU,GAAG;IACf,OAAO;EACT;EAEA,oBACEK,KAAA,CAAC;IAAIC,SAAA,EAAWZ,SAAA;4BACda,IAAA,CAAC;gBAAMH,CAAA,CAAE,yBAAyB;QAAEJ,KAAA;QAAOD,KAAA,EAAO;MAAG;QACpDE,SAAA,KAAcd,eAAA,CAAgBqB,YAAY,IAAIR,KAAA,GAAQG,SAAA,iBACrDI,IAAA,CAAC;MACC,cAAYH,CAAA,CAAE,qBAAqB;QAAEJ,KAAA;QAAOD;MAAM;MAClDO,SAAA,EAAW,GAAGZ,SAAA,UAAmB;MACjCe,EAAA,EAAG;MACHC,OAAA,EAASA,CAAA,KAAMR,SAAA,CAAU;MACzBS,IAAA,EAAK;gBAEJP,CAAA,CAAE,qBAAqB;QAAEJ,KAAA,EAAOG,SAAA;QAAWJ,KAAA,EAAO;MAAG;QAGzD,CAACD,eAAA,IAAmB,CAACD,iBAAA,iBAAqBU,IAAA,CAAC;gBAAK;QAChD,CAACT,eAAA,iBACAO,KAAA,CAACnB,QAAA;8BACCqB,IAAA,CAAChB,QAAA;QAASqB,UAAA,EAAYhB;uBACtBW,IAAA,CAACf,WAAA;QAAYoB,UAAA,EAAYhB;uBACzBW,IAAA,CAACd,aAAA;QAAcmB,UAAA,EAAYhB;;QAG9B,CAACC,iBAAA,iBAAqBU,IAAA,CAACjB,UAAA;MAAWsB,UAAA,EAAYhB;;;AAGrD","ignoreList":[]}