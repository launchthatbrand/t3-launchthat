{"version":3,"file":"index.js","names":["getTranslation","PeopleIcon","XIcon","useConfig","useTranslation","Pill","baseClass","ActiveQueryPreset","activePreset","openPresetListDrawer","resetPreset","i18n","t","getEntityConfig","presetsConfig","collectionSlug","_jsxs","className","filter","Boolean","join","id","onClick","pillStyle","isShared","_jsx","title","label","labels","singular","e","stopPropagation","onKeyDown","role","tabIndex"],"sources":["../../../../src/elements/ListControls/ActiveQueryPreset/index.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./index.scss\";\n\nimport type { QueryPreset } from \"@convexcms/core\";\nimport { getTranslation } from \"@convexcms/translations\";\n\nimport { PeopleIcon } from \"../../../icons/People/index.js\";\nimport { XIcon } from \"../../../icons/X/index.js\";\nimport { useConfig } from \"../../../providers/Config/index.js\";\nimport { useTranslation } from \"../../../providers/Translation/index.js\";\nimport { Pill } from \"../../Pill/index.js\";\n\nconst baseClass = \"active-query-preset\";\n\nexport function ActiveQueryPreset({\n  activePreset,\n  openPresetListDrawer,\n  resetPreset,\n}: {\n  activePreset: QueryPreset;\n  openPresetListDrawer: () => void;\n  resetPreset: () => Promise<void>;\n}) {\n  const { i18n, t } = useTranslation();\n  const { getEntityConfig } = useConfig();\n\n  const presetsConfig = getEntityConfig({\n    collectionSlug: \"payload-query-presets\",\n  });\n\n  return (\n    <Pill\n      className={[baseClass, activePreset && `${baseClass}--active`]\n        .filter(Boolean)\n        .join(\" \")}\n      id=\"select-preset\"\n      onClick={() => {\n        openPresetListDrawer();\n      }}\n      pillStyle={activePreset ? \"always-white\" : \"light\"}\n    >\n      {activePreset?.isShared && (\n        <PeopleIcon className={`${baseClass}__shared`} />\n      )}\n      <div className={`${baseClass}__label-text`}>\n        {activePreset?.title ||\n          t(\"general:selectLabel\", {\n            label: getTranslation(presetsConfig.labels.singular, i18n),\n          })}\n      </div>\n      {activePreset ? (\n        <div\n          className={`${baseClass}__clear`}\n          id=\"clear-preset\"\n          onClick={async (e) => {\n            e.stopPropagation();\n            await resetPreset();\n          }}\n          onKeyDown={async (e) => {\n            e.stopPropagation();\n            await resetPreset();\n          }}\n          role=\"button\"\n          tabIndex={0}\n        >\n          <XIcon />\n        </div>\n      ) : null}\n    </Pill>\n  );\n}\n"],"mappings":"AAAA;;;AAEA,OAAO;AAGP,SAASA,cAAc,QAAQ;AAE/B,SAASC,UAAU,QAAQ;AAC3B,SAASC,KAAK,QAAQ;AACtB,SAASC,SAAS,QAAQ;AAC1B,SAASC,cAAc,QAAQ;AAC/B,SAASC,IAAI,QAAQ;AAErB,MAAMC,SAAA,GAAY;AAElB,OAAO,SAASC,kBAAkB;EAChCC,YAAY;EACZC,oBAAoB;EACpBC;AAAW,CAKZ;EACC,MAAM;IAAEC,IAAI;IAAEC;EAAC,CAAE,GAAGR,cAAA;EACpB,MAAM;IAAES;EAAe,CAAE,GAAGV,SAAA;EAE5B,MAAMW,aAAA,GAAgBD,eAAA,CAAgB;IACpCE,cAAA,EAAgB;EAClB;EAEA,oBACEC,KAAA,CAACX,IAAA;IACCY,SAAA,EAAW,CAACX,SAAA,EAAWE,YAAA,IAAgB,GAAGF,SAAA,UAAmB,CAAC,CAC3DY,MAAM,CAACC,OAAA,EACPC,IAAI,CAAC;IACRC,EAAA,EAAG;IACHC,OAAA,EAASA,CAAA;MACPb,oBAAA;IACF;IACAc,SAAA,EAAWf,YAAA,GAAe,iBAAiB;eAE1CA,YAAA,EAAcgB,QAAA,iBACbC,IAAA,CAACxB,UAAA;MAAWgB,SAAA,EAAW,GAAGX,SAAA;qBAE5BmB,IAAA,CAAC;MAAIR,SAAA,EAAW,GAAGX,SAAA,cAAuB;gBACvCE,YAAA,EAAckB,KAAA,IACbd,CAAA,CAAE,uBAAuB;QACvBe,KAAA,EAAO3B,cAAA,CAAec,aAAA,CAAcc,MAAM,CAACC,QAAQ,EAAElB,IAAA;MACvD;QAEHH,YAAA,gBACCiB,IAAA,CAAC;MACCR,SAAA,EAAW,GAAGX,SAAA,SAAkB;MAChCe,EAAA,EAAG;MACHC,OAAA,EAAS,MAAOQ,CAAA;QACdA,CAAA,CAAEC,eAAe;QACjB,MAAMrB,WAAA;MACR;MACAsB,SAAA,EAAW,MAAOF,CAAA;QAChBA,CAAA,CAAEC,eAAe;QACjB,MAAMrB,WAAA;MACR;MACAuB,IAAA,EAAK;MACLC,QAAA,EAAU;gBAEV,aAAAT,IAAA,CAACvB,KAAA;SAED;;AAGV","ignoreList":[]}