{"version":3,"file":"index.js","names":["React","FieldLabel","ChevronIcon","useListQuery","useTranslation","baseClass","SortColumn","props","name","appearance","disable","Label","label","handleSortChange","query","t","sort","desc","asc","ascClasses","push","descClasses","_jsxs","className","filter","Boolean","join","_jsx","hideLocale","unstyled","direction","onClick","type"],"sources":["../../../src/elements/SortColumn/index.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./index.scss\";\n\nimport type { StaticLabel } from \"@convexcms/core\";\nimport React from \"react\";\n\nimport { FieldLabel } from \"../../fields/FieldLabel/index.js\";\nimport { ChevronIcon } from \"../../icons/Chevron/index.js\";\nimport { useListQuery } from \"../../providers/ListQuery/index.js\";\nimport { useTranslation } from \"../../providers/Translation/index.js\";\n\nexport type SortColumnProps = {\n  readonly appearance?: \"condensed\" | \"default\";\n  readonly disable?: boolean;\n  readonly Label: React.ReactNode;\n  readonly label?: StaticLabel;\n  readonly name: string;\n};\n\nconst baseClass = \"sort-column\";\n\nexport const SortColumn: React.FC<SortColumnProps> = (props) => {\n  const { name, appearance, disable = false, Label, label } = props;\n  const { handleSortChange, query } = useListQuery();\n  const { t } = useTranslation();\n\n  const { sort } = query;\n\n  const desc = `-${name}`;\n  const asc = name;\n\n  const ascClasses = [`${baseClass}__asc`];\n  if (sort === asc) {\n    ascClasses.push(`${baseClass}--active`);\n  }\n\n  const descClasses = [`${baseClass}__desc`];\n  if (sort === desc) {\n    descClasses.push(`${baseClass}--active`);\n  }\n\n  return (\n    <div\n      className={[\n        baseClass,\n        appearance && `${baseClass}--appearance-${appearance}`,\n      ]\n        .filter(Boolean)\n        .join(\" \")}\n    >\n      <span className={`${baseClass}__label`}>\n        {Label ?? <FieldLabel hideLocale label={label} unstyled />}\n      </span>\n      {!disable && (\n        <div className={`${baseClass}__buttons`}>\n          <button\n            aria-label={t(\"general:sortByLabelDirection\", {\n              direction: t(\"general:ascending\"),\n              label,\n            })}\n            className={[...ascClasses, `${baseClass}__button`]\n              .filter(Boolean)\n              .join(\" \")}\n            onClick={() => void handleSortChange(asc)}\n            type=\"button\"\n          >\n            <ChevronIcon direction=\"up\" />\n          </button>\n          <button\n            aria-label={t(\"general:sortByLabelDirection\", {\n              direction: t(\"general:descending\"),\n              label,\n            })}\n            className={[...descClasses, `${baseClass}__button`]\n              .filter(Boolean)\n              .join(\" \")}\n            onClick={() => void handleSortChange(desc)}\n            type=\"button\"\n          >\n            <ChevronIcon />\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n"],"mappings":"AAAA;;;AAEA,OAAO;AAGP,OAAOA,KAAA,MAAW;AAElB,SAASC,UAAU,QAAQ;AAC3B,SAASC,WAAW,QAAQ;AAC5B,SAASC,YAAY,QAAQ;AAC7B,SAASC,cAAc,QAAQ;AAU/B,MAAMC,SAAA,GAAY;AAElB,OAAO,MAAMC,UAAA,GAAyCC,KAAA;EACpD,MAAM;IAAEC,IAAI;IAAEC,UAAU;IAAEC,OAAA,GAAU,KAAK;IAAEC,KAAK;IAAEC;EAAK,CAAE,GAAGL,KAAA;EAC5D,MAAM;IAAEM,gBAAgB;IAAEC;EAAK,CAAE,GAAGX,YAAA;EACpC,MAAM;IAAEY;EAAC,CAAE,GAAGX,cAAA;EAEd,MAAM;IAAEY;EAAI,CAAE,GAAGF,KAAA;EAEjB,MAAMG,IAAA,GAAO,IAAIT,IAAA,EAAM;EACvB,MAAMU,GAAA,GAAMV,IAAA;EAEZ,MAAMW,UAAA,GAAa,CAAC,GAAGd,SAAA,OAAgB,CAAC;EACxC,IAAIW,IAAA,KAASE,GAAA,EAAK;IAChBC,UAAA,CAAWC,IAAI,CAAC,GAAGf,SAAA,UAAmB;EACxC;EAEA,MAAMgB,WAAA,GAAc,CAAC,GAAGhB,SAAA,QAAiB,CAAC;EAC1C,IAAIW,IAAA,KAASC,IAAA,EAAM;IACjBI,WAAA,CAAYD,IAAI,CAAC,GAAGf,SAAA,UAAmB;EACzC;EAEA,oBACEiB,KAAA,CAAC;IACCC,SAAA,EAAW,CACTlB,SAAA,EACAI,UAAA,IAAc,GAAGJ,SAAA,gBAAyBI,UAAA,EAAY,CACvD,CACEe,MAAM,CAACC,OAAA,EACPC,IAAI,CAAC;4BAERC,IAAA,CAAC;MAAKJ,SAAA,EAAW,GAAGlB,SAAA,SAAkB;gBACnCM,KAAA,iBAASgB,IAAA,CAAC1B,UAAA;QAAW2B,UAAU;QAAChB,KAAA,EAAOA,KAAA;QAAOiB,QAAQ;;QAExD,CAACnB,OAAA,iBACAY,KAAA,CAAC;MAAIC,SAAA,EAAW,GAAGlB,SAAA,WAAoB;8BACrCsB,IAAA,CAAC;QACC,cAAYZ,CAAA,CAAE,gCAAgC;UAC5Ce,SAAA,EAAWf,CAAA,CAAE;UACbH;QACF;QACAW,SAAA,EAAW,C,GAAIJ,UAAA,EAAY,GAAGd,SAAA,UAAmB,CAAC,CAC/CmB,MAAM,CAACC,OAAA,EACPC,IAAI,CAAC;QACRK,OAAA,EAASA,CAAA,KAAM,KAAKlB,gBAAA,CAAiBK,GAAA;QACrCc,IAAA,EAAK;kBAEL,aAAAL,IAAA,CAACzB,WAAA;UAAY4B,SAAA,EAAU;;uBAEzBH,IAAA,CAAC;QACC,cAAYZ,CAAA,CAAE,gCAAgC;UAC5Ce,SAAA,EAAWf,CAAA,CAAE;UACbH;QACF;QACAW,SAAA,EAAW,C,GAAIF,WAAA,EAAa,GAAGhB,SAAA,UAAmB,CAAC,CAChDmB,MAAM,CAACC,OAAA,EACPC,IAAI,CAAC;QACRK,OAAA,EAASA,CAAA,KAAM,KAAKlB,gBAAA,CAAiBI,IAAA;QACrCe,IAAA,EAAK;kBAEL,aAAAL,IAAA,CAACzB,WAAA;;;;AAMb","ignoreList":[]}