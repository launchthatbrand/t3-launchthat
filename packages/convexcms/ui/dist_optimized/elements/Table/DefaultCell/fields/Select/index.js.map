{"version":3,"file":"index.js","names":["React","optionsAreObjects","getTranslation","useTranslation","SelectCell","cellData","field","options","i18n","findLabel","items","map","i","found","filter","f","value","label","join","content","Array","isArray","_jsx"],"sources":["../../../../../../src/elements/Table/DefaultCell/fields/Select/index.tsx"],"sourcesContent":["\"use client\";\n\nimport type {\n  DefaultCellComponentProps,\n  OptionObject,\n  SelectFieldClient,\n} from \"@convexcms/core\";\nimport React from \"react\";\nimport { optionsAreObjects } from \"@convexcms/core/shared\";\nimport { getTranslation } from \"@convexcms/translations\";\n\nimport { useTranslation } from \"../../../../../providers/Translation/index.js\";\n\nexport interface SelectCellProps\n  extends DefaultCellComponentProps<SelectFieldClient> {}\n\nexport const SelectCell: React.FC<SelectCellProps> = ({\n  cellData,\n  field: { options },\n}) => {\n  const { i18n } = useTranslation();\n\n  const findLabel = (items: string[]) =>\n    items\n      .map((i) => {\n        const found = (options as OptionObject[]).filter(\n          (f: OptionObject) => f.value === i,\n        )?.[0]?.label;\n        return getTranslation(found, i18n);\n      })\n      .join(\", \");\n\n  let content = \"\";\n  if (optionsAreObjects(options)) {\n    content = Array.isArray(cellData)\n      ? findLabel(cellData) // hasMany\n      : findLabel([cellData]);\n  } else {\n    content = Array.isArray(cellData)\n      ? cellData.join(\", \") // hasMany\n      : cellData;\n  }\n\n  return <span>{content}</span>;\n};\n"],"mappings":"AAAA;;;AAOA,OAAOA,KAAA,MAAW;AAClB,SAASC,iBAAiB,QAAQ;AAClC,SAASC,cAAc,QAAQ;AAE/B,SAASC,cAAc,QAAQ;AAK/B,OAAO,MAAMC,UAAA,GAAwCA,CAAC;EACpDC,QAAQ;EACRC,KAAA,EAAO;IAAEC;EAAO;AAAE,CACnB;EACC,MAAM;IAAEC;EAAI,CAAE,GAAGL,cAAA;EAEjB,MAAMM,SAAA,GAAaC,KAAA,IACjBA,KAAA,CACGC,GAAG,CAAEC,CAAA;IACJ,MAAMC,KAAA,GAAQN,OAAC,CAA2BO,MAAM,CAC7CC,CAAA,IAAoBA,CAAA,CAAEC,KAAK,KAAKJ,CAAA,IAC/B,EAAE,EAAEK,KAAA;IACR,OAAOf,cAAA,CAAeW,KAAA,EAAOL,IAAA;EAC/B,GACCU,IAAI,CAAC;EAEV,IAAIC,OAAA,GAAU;EACd,IAAIlB,iBAAA,CAAkBM,OAAA,GAAU;IAC9BY,OAAA,GAAUC,KAAA,CAAMC,OAAO,CAAChB,QAAA,IACpBI,SAAA,CAAUJ,QAAA,EAAU;IAAA,EACpBI,SAAA,CAAU,CAACJ,QAAA,CAAS;EAC1B,OAAO;IACLc,OAAA,GAAUC,KAAA,CAAMC,OAAO,CAAChB,QAAA,IACpBA,QAAA,CAASa,IAAI,CAAC,MAAM;IAAA,EACpBb,QAAA;EACN;EAEA,oBAAOiB,IAAA,CAAC;cAAMH;;AAChB","ignoreList":[]}