{"version":3,"file":"index.js","names":["React","useAuth","EditDepthProvider","useTranslation","Drawer","DrawerToggler","useFormsManager","EditManyBulkUploadsDrawerContent","baseClass","EditManyBulkUploads","props","collection","slug","permissions","t","forms","collectionPermissions","collections","hasUpdatePermission","update","drawerSlug","_jsxs","className","_jsx","Header"],"sources":["../../../../src/elements/BulkUpload/EditMany/index.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./index.scss\";\n\nimport type { ClientCollectionConfig } from \"@convexcms/core\";\nimport React from \"react\";\n\nimport { useAuth } from \"../../../providers/Auth/index.js\";\nimport { EditDepthProvider } from \"../../../providers/EditDepth/index.js\";\nimport { useTranslation } from \"../../../providers/Translation/index.js\";\nimport { Drawer, DrawerToggler } from \"../../Drawer/index.js\";\nimport { useFormsManager } from \"../FormsManager/index.js\";\nimport { EditManyBulkUploadsDrawerContent } from \"./DrawerContent.js\";\n\nexport const baseClass = \"edit-many-bulk-uploads\";\n\nexport type EditManyBulkUploadsProps = {\n  readonly collection: ClientCollectionConfig;\n};\n\nexport const EditManyBulkUploads: React.FC<EditManyBulkUploadsProps> = (\n  props,\n) => {\n  const { collection: { slug } = {}, collection } = props;\n\n  const { permissions } = useAuth();\n\n  const { t } = useTranslation();\n  const { forms } = useFormsManager(); // Access forms managed in bulk uploads\n\n  const collectionPermissions = permissions?.collections?.[slug];\n  const hasUpdatePermission = collectionPermissions?.update;\n\n  const drawerSlug = `edit-${slug}-bulk-uploads`;\n\n  if (!hasUpdatePermission) {\n    return null;\n  }\n\n  return (\n    <div className={baseClass}>\n      <DrawerToggler\n        aria-label={t(\"general:editAll\")}\n        className={`${baseClass}__toggle`}\n        slug={drawerSlug}\n      >\n        {t(\"general:editAll\")}\n      </DrawerToggler>\n      <EditDepthProvider>\n        <Drawer Header={null} slug={drawerSlug}>\n          <EditManyBulkUploadsDrawerContent\n            collection={collection}\n            drawerSlug={drawerSlug}\n            forms={forms}\n          />\n        </Drawer>\n      </EditDepthProvider>\n    </div>\n  );\n};\n"],"mappings":"AAAA;;;AAEA,OAAO;AAGP,OAAOA,KAAA,MAAW;AAElB,SAASC,OAAO,QAAQ;AACxB,SAASC,iBAAiB,QAAQ;AAClC,SAASC,cAAc,QAAQ;AAC/B,SAASC,MAAM,EAAEC,aAAa,QAAQ;AACtC,SAASC,eAAe,QAAQ;AAChC,SAASC,gCAAgC,QAAQ;AAEjD,OAAO,MAAMC,SAAA,GAAY;AAMzB,OAAO,MAAMC,mBAAA,GACXC,KAAA;EAEA,MAAM;IAAEC,UAAA,EAAY;MAAEC;IAAI,CAAE,GAAG,CAAC,CAAC;IAAED;EAAU,CAAE,GAAGD,KAAA;EAElD,MAAM;IAAEG;EAAW,CAAE,GAAGZ,OAAA;EAExB,MAAM;IAAEa;EAAC,CAAE,GAAGX,cAAA;EACd,MAAM;IAAEY;EAAK,CAAE,GAAGT,eAAA,IAAmB;EAErC,MAAMU,qBAAA,GAAwBH,WAAA,EAAaI,WAAA,GAAcL,IAAA,CAAK;EAC9D,MAAMM,mBAAA,GAAsBF,qBAAA,EAAuBG,MAAA;EAEnD,MAAMC,UAAA,GAAa,QAAQR,IAAA,eAAmB;EAE9C,IAAI,CAACM,mBAAA,EAAqB;IACxB,OAAO;EACT;EAEA,oBACEG,KAAA,CAAC;IAAIC,SAAA,EAAWd,SAAA;4BACde,IAAA,CAAClB,aAAA;MACC,cAAYS,CAAA,CAAE;MACdQ,SAAA,EAAW,GAAGd,SAAA,UAAmB;MACjCI,IAAA,EAAMQ,UAAA;gBAELN,CAAA,CAAE;qBAELS,IAAA,CAACrB,iBAAA;gBACC,aAAAqB,IAAA,CAACnB,MAAA;QAAOoB,MAAA,EAAQ;QAAMZ,IAAA,EAAMQ,UAAA;kBAC1B,aAAAG,IAAA,CAAChB,gCAAA;UACCI,UAAA,EAAYA,UAAA;UACZS,UAAA,EAAYA,UAAA;UACZL,KAAA,EAAOA;;;;;AAMnB","ignoreList":[]}