{"version":3,"file":"index.js","names":["React","Fragment","getTranslation","PayloadIcon","useConfig","useTranslation","Link","RenderCustomComponent","StepNavProvider","useStepNav","SetStepNav","baseClass","StepNav","className","CustomIcon","i18n","stepNav","config","routes","admin","t","_jsx","length","_jsxs","filter","Boolean","join","href","prefetch","tabIndex","title","CustomComponent","Fallback","map","item","i","StepLabel","label","isLast","Step","url"],"sources":["../../../src/elements/StepNav/index.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./index.scss\";\n\nimport React, { Fragment } from \"react\";\nimport { getTranslation } from \"@convexcms/translations\";\n\nimport type { StepNavItem } from \"./types.js\";\nimport { PayloadIcon } from \"../../graphics/Icon/index.js\";\nimport { useConfig } from \"../../providers/Config/index.js\";\nimport { useTranslation } from \"../../providers/Translation/index.js\";\nimport { Link } from \"../Link/index.js\";\nimport { RenderCustomComponent } from \"../RenderCustomComponent/index.js\";\nimport { StepNavProvider, useStepNav } from \"./context.js\";\n\nexport { SetStepNav } from \"./SetStepNav.js\";\n\nconst baseClass = \"step-nav\";\n\nconst StepNav: React.FC<{\n  readonly className?: string;\n  readonly CustomIcon?: React.ReactNode;\n  /**\n   * @deprecated\n   * This prop is deprecated and will be removed in the next major version.\n   * Components now import their own `Link` directly from `next/link`.\n   */\n  readonly Link?: React.ComponentType;\n}> = ({ className, CustomIcon }) => {\n  const { i18n } = useTranslation();\n\n  const { stepNav } = useStepNav();\n\n  const {\n    config: {\n      routes: { admin },\n    },\n  } = useConfig();\n\n  const { t } = useTranslation();\n\n  return (\n    <Fragment>\n      {stepNav.length > 0 ? (\n        <nav className={[baseClass, className].filter(Boolean).join(\" \")}>\n          <Link\n            className={`${baseClass}__home`}\n            href={admin}\n            prefetch={false}\n            tabIndex={0}\n          >\n            <span title={t(\"general:dashboard\")}>\n              <RenderCustomComponent\n                CustomComponent={CustomIcon}\n                Fallback={<PayloadIcon />}\n              />\n            </span>\n          </Link>\n          <span>/</span>\n          {stepNav.map((item, i) => {\n            const StepLabel = getTranslation(item.label, i18n);\n            const isLast = stepNav.length === i + 1;\n\n            const Step = isLast ? (\n              <span className={`${baseClass}__last`} key={i}>\n                {StepLabel}\n              </span>\n            ) : (\n              <Fragment key={i}>\n                {item.url ? (\n                  <Link href={item.url} prefetch={false}>\n                    <span key={i}>{StepLabel}</span>\n                  </Link>\n                ) : (\n                  <span key={i}>{StepLabel}</span>\n                )}\n                <span>/</span>\n              </Fragment>\n            );\n\n            return Step;\n          })}\n        </nav>\n      ) : (\n        <div className={[baseClass, className].filter(Boolean).join(\" \")}>\n          <div className={`${baseClass}__home`}>\n            <span title={t(\"general:dashboard\")}>\n              <RenderCustomComponent\n                CustomComponent={CustomIcon}\n                Fallback={<PayloadIcon />}\n              />\n            </span>\n          </div>\n        </div>\n      )}\n    </Fragment>\n  );\n};\n\nexport { StepNav, StepNavItem, StepNavProvider, useStepNav };\n"],"mappings":"AAAA;;;AAEA,OAAO;AAEP,OAAOA,KAAA,IAASC,QAAQ,QAAQ;AAChC,SAASC,cAAc,QAAQ;AAG/B,SAASC,WAAW,QAAQ;AAC5B,SAASC,SAAS,QAAQ;AAC1B,SAASC,cAAc,QAAQ;AAC/B,SAASC,IAAI,QAAQ;AACrB,SAASC,qBAAqB,QAAQ;AACtC,SAASC,eAAe,EAAEC,UAAU,QAAQ;AAE5C,SAASC,UAAU,QAAQ;AAE3B,MAAMC,SAAA,GAAY;AAElB,MAAMC,OAAA,GASDA,CAAC;EAAEC,SAAS;EAAEC;AAAU,CAAE;EAC7B,MAAM;IAAEC;EAAI,CAAE,GAAGV,cAAA;EAEjB,MAAM;IAAEW;EAAO,CAAE,GAAGP,UAAA;EAEpB,MAAM;IACJQ,MAAA,EAAQ;MACNC,MAAA,EAAQ;QAAEC;MAAK;IAAE;EAClB,CACF,GAAGf,SAAA;EAEJ,MAAM;IAAEgB;EAAC,CAAE,GAAGf,cAAA;EAEd,oBACEgB,IAAA,CAACpB,QAAA;cACEe,OAAA,CAAQM,MAAM,GAAG,iBAChBC,KAAA,CAAC;MAAIV,SAAA,EAAW,CAACF,SAAA,EAAWE,SAAA,CAAU,CAACW,MAAM,CAACC,OAAA,EAASC,IAAI,CAAC;8BAC1DL,IAAA,CAACf,IAAA;QACCO,SAAA,EAAW,GAAGF,SAAA,QAAiB;QAC/BgB,IAAA,EAAMR,KAAA;QACNS,QAAA,EAAU;QACVC,QAAA,EAAU;kBAEV,aAAAR,IAAA,CAAC;UAAKS,KAAA,EAAOV,CAAA,CAAE;oBACb,aAAAC,IAAA,CAACd,qBAAA;YACCwB,eAAA,EAAiBjB,UAAA;YACjBkB,QAAA,eAAUX,IAAA,CAAClB,WAAA;;;uBAIjBkB,IAAA,CAAC;kBAAK;UACLL,OAAA,CAAQiB,GAAG,CAAC,CAACC,IAAA,EAAMC,CAAA;QAClB,MAAMC,SAAA,GAAYlC,cAAA,CAAegC,IAAA,CAAKG,KAAK,EAAEtB,IAAA;QAC7C,MAAMuB,MAAA,GAAStB,OAAA,CAAQM,MAAM,KAAKa,CAAA,GAAI;QAEtC,MAAMI,IAAA,GAAOD,MAAA,gBACXjB,IAAA,CAAC;UAAKR,SAAA,EAAW,GAAGF,SAAA,QAAiB;oBAClCyB;WADyCD,CAAA,iBAI5CZ,KAAA,CAACtB,QAAA;qBACEiC,IAAA,CAAKM,GAAG,gBACPnB,IAAA,CAACf,IAAA;YAAKqB,IAAA,EAAMO,IAAA,CAAKM,GAAG;YAAEZ,QAAA,EAAU;sBAC9B,aAAAP,IAAA,CAAC;wBAAce;eAAJD,CAAA;4BAGbd,IAAA,CAAC;sBAAce;aAAJD,CAAA,G,aAEbd,IAAA,CAAC;sBAAK;;WAROc,CAAA;QAYjB,OAAOI,IAAA;MACT;sBAGFlB,IAAA,CAAC;MAAIR,SAAA,EAAW,CAACF,SAAA,EAAWE,SAAA,CAAU,CAACW,MAAM,CAACC,OAAA,EAASC,IAAI,CAAC;gBAC1D,aAAAL,IAAA,CAAC;QAAIR,SAAA,EAAW,GAAGF,SAAA,QAAiB;kBAClC,aAAAU,IAAA,CAAC;UAAKS,KAAA,EAAOV,CAAA,CAAE;oBACb,aAAAC,IAAA,CAACd,qBAAA;YACCwB,eAAA,EAAiBjB,UAAA;YACjBkB,QAAA,eAAUX,IAAA,CAAClB,WAAA;;;;;;AAQ3B;AAEA,SAASS,OAAO,EAAeJ,eAAe,EAAEC,UAAU","ignoreList":[]}