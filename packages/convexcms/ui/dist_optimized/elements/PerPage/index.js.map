{"version":3,"file":"index.js","names":["React","collectionDefaults","isNumber","ChevronIcon","useTranslation","Popup","PopupList","baseClass","defaultLimits","admin","pagination","limits","PerPage","defaultLimit","handleChange","limit","t","limitToUse","_jsx","className","button","_jsxs","horizontalAlign","render","close","ButtonGroup","map","limitNumber","i","Button","filter","Boolean","join","onClick","direction","size"],"sources":["../../../src/elements/PerPage/index.tsx"],"sourcesContent":["\"use client\";\n\nimport \"./index.scss\";\n\nimport React from \"react\";\n// TODO: abstract the `next/navigation` dependency out from this component\nimport { collectionDefaults, isNumber } from \"@convexcms/core/shared\";\n\nimport { ChevronIcon } from \"../../icons/Chevron/index.js\";\nimport { useTranslation } from \"../../providers/Translation/index.js\";\nimport { Popup, PopupList } from \"../Popup/index.js\";\n\nconst baseClass = \"per-page\";\n\nconst defaultLimits = collectionDefaults.admin.pagination.limits;\n\nexport type PerPageProps = {\n  readonly defaultLimit?: number;\n  readonly handleChange?: (limit: number) => void;\n  readonly limit: number;\n  readonly limits: number[];\n  readonly resetPage?: boolean;\n};\n\nexport const PerPage: React.FC<PerPageProps> = ({\n  defaultLimit = 10,\n  handleChange,\n  limit,\n  limits = defaultLimits,\n}) => {\n  const { t } = useTranslation();\n\n  const limitToUse = isNumber(limit) ? limit : defaultLimit;\n\n  return (\n    <div className={baseClass}>\n      <Popup\n        button={\n          <div className={`${baseClass}__base-button`}>\n            <span>{t(\"general:perPage\", { limit: limitToUse })}</span>\n            &nbsp;\n            <ChevronIcon className={`${baseClass}__icon`} />\n          </div>\n        }\n        horizontalAlign=\"right\"\n        render={({ close }) => (\n          <PopupList.ButtonGroup>\n            {limits.map((limitNumber, i) => (\n              <PopupList.Button\n                className={[\n                  `${baseClass}__button`,\n                  limitNumber === limitToUse && `${baseClass}__button-active`,\n                ]\n                  .filter(Boolean)\n                  .join(\" \")}\n                key={i}\n                onClick={() => {\n                  close();\n                  if (handleChange) {\n                    handleChange(limitNumber);\n                  }\n                }}\n              >\n                {limitNumber === limitToUse && (\n                  <div className={`${baseClass}__chevron`}>\n                    <ChevronIcon direction=\"right\" size=\"small\" />\n                  </div>\n                )}\n                &nbsp;\n                <span>{limitNumber}</span>\n              </PopupList.Button>\n            ))}\n          </PopupList.ButtonGroup>\n        )}\n        size=\"small\"\n      />\n    </div>\n  );\n};\n"],"mappings":"AAAA;;;AAEA,OAAO;AAEP,OAAOA,KAAA,MAAW;AAClB;AACA,SAASC,kBAAkB,EAAEC,QAAQ,QAAQ;AAE7C,SAASC,WAAW,QAAQ;AAC5B,SAASC,cAAc,QAAQ;AAC/B,SAASC,KAAK,EAAEC,SAAS,QAAQ;AAEjC,MAAMC,SAAA,GAAY;AAElB,MAAMC,aAAA,GAAgBP,kBAAA,CAAmBQ,KAAK,CAACC,UAAU,CAACC,MAAM;AAUhE,OAAO,MAAMC,OAAA,GAAkCA,CAAC;EAC9CC,YAAA,GAAe,EAAE;EACjBC,YAAY;EACZC,KAAK;EACLJ,MAAA,GAASH;AAAa,CACvB;EACC,MAAM;IAAEQ;EAAC,CAAE,GAAGZ,cAAA;EAEd,MAAMa,UAAA,GAAaf,QAAA,CAASa,KAAA,IAASA,KAAA,GAAQF,YAAA;EAE7C,oBACEK,IAAA,CAAC;IAAIC,SAAA,EAAWZ,SAAA;cACd,aAAAW,IAAA,CAACb,KAAA;MACCe,MAAA,eACEC,KAAA,CAAC;QAAIF,SAAA,EAAW,GAAGZ,SAAA,eAAwB;gCACzCW,IAAA,CAAC;oBAAMF,CAAA,CAAE,mBAAmB;YAAED,KAAA,EAAOE;UAAW;YAAU,K,aAE1DC,IAAA,CAACf,WAAA;UAAYgB,SAAA,EAAW,GAAGZ,SAAA;;;MAG/Be,eAAA,EAAgB;MAChBC,MAAA,EAAQA,CAAC;QAAEC;MAAK,CAAE,kBAChBN,IAAA,CAACZ,SAAA,CAAUmB,WAAW;kBACnBd,MAAA,CAAOe,GAAG,CAAC,CAACC,WAAA,EAAaC,CAAA,kBACxBP,KAAA,CAACf,SAAA,CAAUuB,MAAM;UACfV,SAAA,EAAW,CACT,GAAGZ,SAAA,UAAmB,EACtBoB,WAAA,KAAgBV,UAAA,IAAc,GAAGV,SAAA,iBAA0B,CAC5D,CACEuB,MAAM,CAACC,OAAA,EACPC,IAAI,CAAC;UAERC,OAAA,EAASA,CAAA;YACPT,KAAA;YACA,IAAIV,YAAA,EAAc;cAChBA,YAAA,CAAaa,WAAA;YACf;UACF;qBAECA,WAAA,KAAgBV,UAAA,iBACfC,IAAA,CAAC;YAAIC,SAAA,EAAW,GAAGZ,SAAA,WAAoB;sBACrC,aAAAW,IAAA,CAACf,WAAA;cAAY+B,SAAA,EAAU;cAAQC,IAAA,EAAK;;cAEtC,K,aAEFjB,IAAA,CAAC;sBAAMS;;WAdFC,CAAA;;MAmBbO,IAAA,EAAK;;;AAIb","ignoreList":[]}